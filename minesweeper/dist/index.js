(()=>{"use strict";var e={2644:(e,t,n)=>{e.exports=n.p+"b21d11d4869795761810.png"},2310:(e,t,n)=>{e.exports=n.p+"1bc22c7ac5619bd4dd02.png"},9311:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".button-component{background:none;border:none;font-weight:600;cursor:pointer;margin:5px}.button-component:disabled{cursor:default}.button-component[data-color=primary]{background-color:#64a319;color:#fff}.button-component[data-color=secondary]{background-color:#ea4a17;color:#fff}.button-component[data-color=white]{background-color:#fff;color:#444;border:1px solid #444}.button-component[data-type=radius]{padding:10px;border-radius:5px}.button-component[data-type=circle]{padding:20px;border-radius:100%}.button-component[data-size=fill]{width:calc(100% - 10px)}.button-component[data-center=center]{width:auto}",""]);const a=o},3967:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".center-component{width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative}.center-component[data-direction=row]{flex-direction:row}.center-component[data-direction=row-reverse]{flex-direction:row-reverse}.center-component[data-direction=column]{flex-direction:column}.center-component[data-direction=column-reverse]{flex-direction:column-reverse}",""]);const a=o},8834:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(3645),o=n.n(r),a=n(1667),i=n.n(a),l=new URL(n(2644),n.b),c=new URL(n(2310),n.b),u=o()((function(e){return e[1]})),s=i()(l),d=i()(c);u.push([e.id,"@keyframes showFlag{0%{transform:scale(0)}100%{transform:scale(1)}}.game-component{width:700px;height:600px;border-radius:10px;border:1px solid #999;background-color:#fff;box-shadow:0 0 40px #000;position:relative;display:flex;flex-direction:column}.game-component .game-header{display:flex;height:60px;align-items:center;border-bottom:1px solid #999;box-shadow:0px 3px 10px #000}.game-component .game-header .panel{flex-grow:1}.game-component .game-content{position:relative;overflow:hidden;flex-grow:1;display:flex;justify-content:center;align-items:center;background-color:#ddd;color:#333}.game-component .game-start{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:9;background-color:rgba(0,0,0,.5)}.game-component .game-start .game-window{padding:20px;border-radius:5px;background-color:#fff;display:flex;flex-direction:column;justify-content:space-between}.game-component .display{display:flex;position:absolute;opacity:0;flex-direction:column;margin:auto}.game-component .display .row{display:flex;flex-direction:row}.game-component .display .row .item{width:20px;height:20px;display:inline-block;border:1px solid #fff;margin:2px;display:flex;justify-content:center;align-items:center;position:relative}.game-component .display .row .item i[data-bomb]{display:inline-block;width:100%;height:100%;background:url("+s+');background-color:red;background-position:center;background-size:80%;background-repeat:no-repeat}.game-component .display .row .item b{display:inline-block;width:100%;height:100%;background-color:#777;cursor:pointer;position:relative}.game-component .display .row .item b::before{display:inline-block;content:" ";position:absolute;background:url('+d+");background-position:center;background-size:cover;top:0;left:0;right:0;bottom:0;margin:auto;transform:scale(0);transition:.2s}.game-component .display .row .item b[data-null=true]{background-color:#7f7}.game-component .display .row .item b[data-bomb=true]{background-color:#f77}.game-component .display .row .item b[data-flag=true]::before{transform:scale(1)}",""]);const f=u},7033:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".main-component{width:300px;height:300px;border-radius:10px;border:1px solid #999;background-color:#fff;box-shadow:0 0 40px #000;padding:50px;position:relative}",""]);const a=o},5177:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]);const a=o},6096:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"@keyframes modalShow{0%{opacity:0}100%{opacity:1}}@keyframes windowShow{0%{transform:translateY(-400px) scale(0.8)}100%{transform:translateY(0px) scale(1)}}.modal-component{--time: 0.2s;position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;animation:modalShow var(--time);background-color:rgba(0,0,0,.6);display:flex;flex-direction:column;justify-content:center;align-items:center}.modal-component[data-fullscreen=true]{position:fixed}.modal-component .modal-window{background-color:#fff;border-radius:5px;box-shadow:0 0 10px #000;padding:20px;animation:windowShow var(--time)}",""]);const a=o},4700:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]);const a=o},4207:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]);const a=o},8440:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'.text-component{margin:0;margin-bottom:5px}.text-component[data-color=primary]{color:#333}.text-component[data-color=secondary]{color:#ddd}.text-component[data-align=left]{text-align:left}.text-component[data-align=center]{text-align:center}.text-component[data-right=right]{text-align:right}.text-component[data-size="1"]{font-size:32px;font-weight:800}.text-component[data-size="2"]{font-size:28px;font-weight:700}.text-component[data-size="3"]{font-size:24px;font-weight:600}.text-component[data-size="4"]{font-size:20px;font-weight:500}.text-component[data-size="5"]{font-size:16px;font-weight:400}.text-component[data-size="6"]{font-size:12px;font-weight:300}',""]);const a=o},5196:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"html,body,#app{width:100%;height:100%;margin:0;padding:0;position:relative;background-color:#474747}*{outline:none;user-select:none}",""]);const a=o},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},1667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},5048:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(9311),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},4353:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(3967),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},5925:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(8834),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},3307:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(7033),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},4065:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(5177),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},1355:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(6096),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(4700),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},9519:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(4207),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},7863:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(8440),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},2241:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),l=n(569),c=n.n(l),u=n(3565),s=n.n(u),d=n(9216),f=n.n(d),m=n(4589),p=n.n(m),h=n(5196),b={};b.styleTagTransform=p(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=f(),o()(h.Z,b);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},3379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],l=0;l<e.length;l++){var c=e[l],u=r.base?c[0]+r.base:c[0],s=a[u]||0,d="".concat(u," ").concat(s);a[u]=s+1;var f=n(d),m={css:c[1],media:c[2],sourceMap:c[3]};-1!==f?(t[f].references++,t[f].updater(m)):t.push({identifier:d,updater:o(m,r),references:1}),i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=n(a[i]);t[l].references--}for(var c=r(e,o),u=0;u<a.length;u++){var s=n(a[u]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}a=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9423:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0,n(5048);const i=a(n(3804));t.Button=i.forwardRef((({children:e,...t},n)=>{for(let[e,n]of Object.entries(t))/(radius|circle)/.test(e)&&n&&(t.type=e),/(fill|center)/.test(e)&&n&&(t.size=e),/(primary|secondary|white)/.test(e)&&n&&(t.color=e);const{color:r="primary",size:o="fill",type:a="radius",onClick:l=(()=>{}),disabled:c=!1}=t;return i.default.createElement("button",{className:"button-component",ref:n,disabled:c,"data-color":r,"data-size":o,"data-type":a,onClick:l},e)}))},1779:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=n(9423);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return r.Button}})},39:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Center=void 0,n(4353);const o=r(n(3804));t.Center=({children:e,...t})=>{const{direction:n="row"}=t;return o.default.createElement("div",{"data-direction":n,className:"center-component"},e)}},627:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Center=void 0;var r=n(39);Object.defineProperty(t,"Center",{enumerable:!0,get:function(){return r.Center}})},4515:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Choose=t.Other=t.When=void 0,t.When=({children:e})=>e,t.Other=({children:e})=>e,t.Choose=({children:e})=>{const n=[].concat(e);for(let e of n){const{type:n,props:r}=e||{},{condition:o=!1,children:a=null}=r||{};if(n==t.Other)return a;if(n==t.When&&o)return a}return null}},7095:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Other=t.When=t.Choose=void 0;var r=n(4515);Object.defineProperty(t,"Choose",{enumerable:!0,get:function(){return r.Choose}}),Object.defineProperty(t,"When",{enumerable:!0,get:function(){return r.When}}),Object.defineProperty(t,"Other",{enumerable:!0,get:function(){return r.Other}})},6531:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.For=void 0;const i=a(n(3804));t.For=({children:e,of:t})=>{const n=[],r=[null].concat(e);for(let e=0;e<t.length;e++){const o=t[e];for(let t of r)"function"==typeof t?n.push(t(o,e)):n.push(t)}return i.default.createElement(i.Fragment,{},...n)}},4718:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.For=void 0;var r=n(6531);Object.defineProperty(t,"For",{enumerable:!0,get:function(){return r.For}})},3003:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=t.Timer=t.Item=t.difficultyStore=void 0,n(5925);const i=a(n(3804)),l=n(5520),c=n(4718),u=n(7095),s=n(4266),d=n(1779),f=n(5046),m=n(7131),p=n(8365);t.difficultyStore={easy:[10,8,10],medium:[18,14,40],hard:[24,20,99]},t.Item=({x:e,y:t,v:n,game:r})=>i.default.createElement("div",{className:"item"},i.default.createElement(u.Choose,null,i.default.createElement(u.When,{condition:r.isOpen(e,t)},i.default.createElement(u.Choose,null,i.default.createElement(u.When,{condition:-1==n},i.default.createElement("i",{"data-bomb":!0})),i.default.createElement(u.When,{condition:n},i.default.createElement("i",null,n)))),i.default.createElement(u.Other,null,i.default.createElement("b",{onClick:n=>{r.isFlag(e,t)||r.setOpen(e,t)},onContextMenu:n=>{r.toggleFlag(e,t)},"data-null":r.devMode&&0==n,"data-bomb":r.devMode&&-1==n,"data-flag":r.isFlag(e,t)})))),t.Timer=({game:e})=>{const[t,n]=i.useState(0);return i.useEffect((()=>{if(-1==e.startTime||-1!=e.stopTime||!e.started)return void n(0);const t=setInterval((()=>{n(performance.now()-e.startTime)}),10);return()=>clearInterval(t)}),[e.startTime,e.stopTime,e.started]),i.default.createElement(d.Button,{center:!0,disabled:!0,white:!0},"Time: ",e.timeString)},t.Game=e=>{const{difficulty:n="easy"}=e,r=i.createRef(),o=f.useSwitch(),[a,h,b]=t.difficultyStore[n],v=l.MineSweeper.make(a,h,b);v.use(),s.useEvent(r,"click",(e=>e.preventDefault())),s.useEvent(r,"contextmenu",(e=>e.preventDefault()));const g=()=>v.newGame(),y=()=>o("main"),w=()=>{if(!r.current)return;const e=r.current,t=e.parentElement,{offsetWidth:n,offsetHeight:o}=e,{offsetWidth:a,offsetHeight:i}=t,l=Math.min((a-50)/n,(i-50)/o);e.style.transform=`scale(${l})`,e.style.opacity="1"};return s.useEvent("resize",(e=>{w()})),i.useEffect((()=>{w()}),[]),i.default.createElement("div",{className:"game-component"},i.default.createElement(m.If,{condition:!v.started},i.default.createElement("div",{className:"game-start"},i.default.createElement("div",{className:"game-window"},i.default.createElement(u.Choose,null,i.default.createElement(u.When,{condition:0==v.state},i.default.createElement(p.Text,{h2:!0},"Начало новой игры"),i.default.createElement(p.Text,{left:!0,h6:!0},"Размеры ",v.width,"x",v.height),i.default.createElement(p.Text,{left:!0,h6:!0},"Бомб ",v.length),i.default.createElement(d.Button,{onClick:()=>v.start()},"Запустить")),i.default.createElement(u.When,{condition:1==v.state},i.default.createElement(p.Text,{h2:!0},"Вы проиграли"),i.default.createElement(p.Text,{left:!0,h6:!0},"Открыто ячеек ",v.opensCount),i.default.createElement(p.Text,{left:!0,h6:!0},"Установлено флагов ",v.flugsCount),i.default.createElement(p.Text,{left:!0,h6:!0},"Время игры ",v.timeString),i.default.createElement(d.Button,{center:!0,onClick:g},"Попробовать еще")),i.default.createElement(u.When,{condition:2==v.state},i.default.createElement(p.Text,{h2:!0},"Вы выиграли"),i.default.createElement(p.Text,{left:!0,h6:!0},"Время игры ",v.timeString),i.default.createElement(d.Button,{center:!0,onClick:g},"Начать новую игру"))),i.default.createElement(d.Button,{secondary:!0,onClick:y},"Выйти"),i.default.createElement(d.Button,{onClick:()=>window.open("https://github.com/vicimpa/minesweeper"),fill:!0,white:!0},"Github")))),i.default.createElement("div",{className:"game-header"},i.default.createElement(d.Button,{center:!0,onClick:g},"Новая игра"),i.default.createElement("div",{className:"panel"},i.default.createElement(d.Button,{center:!0,disabled:!0,white:!0},"❌ ",v.flugsCount,"/",v.length),i.default.createElement(t.Timer,{game:v})),i.default.createElement(m.If,{condition:!1},i.default.createElement(d.Button,{center:!0,color:v.devMode?"primary":"white",onClick:()=>v.toggleDevMode()},i.default.createElement(u.Choose,null,i.default.createElement(u.When,{condition:v.devMode},"Dev (Выкл)"),i.default.createElement(u.Other,null,"Dev (Вкл)")))),i.default.createElement(d.Button,{center:!0,secondary:!0,onClick:y},"Меню")),i.default.createElement("div",{className:"game-content"},i.default.createElement("div",{ref:r,className:"display"},i.default.createElement(c.For,{of:v.rows()},(e=>i.default.createElement("div",{className:"row"},i.default.createElement(c.For,{of:e.items()},(([e,n,r])=>i.default.createElement(t.Item,{x:e,y:n,v:r,game:v})))))))))}},7636:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.If=void 0;const i=a(n(3804));t.If=({condition:e,children:t})=>{const n=[null].concat(t);return e?i.default.createElement(i.Fragment,{},...n):null}},7131:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.If=void 0;var r=n(7636);Object.defineProperty(t,"If",{enumerable:!0,get:function(){return r.If}})},2805:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0,n(3307);const o=r(n(3804)),a=n(627),i=n(8365),l=n(1779),c=n(5564),u=n(8599),s=(n(6171),n(6963));t.Main=()=>{const e=c.createModalRef(),t=s.useSwitch(),n=n=>{t(n),e?.current?.setState(null)},r=()=>{e?.current?.setState(null)};return o.default.createElement("div",{className:"main-component"},o.default.createElement(c.Modal,{modalRef:e},o.default.createElement(a.Center,{direction:"column"},o.default.createElement(i.Text,{h1:!0},"Сапёр"),o.default.createElement(l.Button,{onClick:()=>{e.current?.setState(o.default.createElement(u.Menu,{title:"Выберите сложность",onSelect:n,onCancel:r},o.default.createElement(u.MenuItem,{value:"easy"},"Легкий"),o.default.createElement(u.MenuItem,{value:"medium"},"Средний"),o.default.createElement(u.MenuItem,{value:"hard"},"Сложный"),o.default.createElement(u.MenuItem,{cancel:!0},"Отмена")))},fill:!0,primary:!0},"Начать"),o.default.createElement(l.Button,{onClick:()=>window.open("https://github.com/vicimpa/minesweeper"),fill:!0,white:!0},"Github"))))}},2565:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;var r=n(2805);Object.defineProperty(t,"Main",{enumerable:!0,get:function(){return r.Main}})},8599:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=t.MenuItem=void 0,n(4065);const o=r(n(3804)),a=n(1779),i=n(8365),l=n(6531),c=n(7095),u=n(7095);t.MenuItem=()=>null,t.Menu=({children:e,...n})=>{const r=[].concat(e).filter((e=>e?.type==t.MenuItem)),{title:s="",onSelect:d=(()=>{}),onCancel:f=(()=>{})}=n;return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Text,null,s),o.default.createElement(l.For,{of:r},(({props:e})=>o.default.createElement(c.Choose,null,o.default.createElement(u.When,{condition:!e?.cancel},o.default.createElement(a.Button,{onClick:()=>d(e?.value)},e?.children)),o.default.createElement(u.Other,null,o.default.createElement(a.Button,{secondary:!0,onClick:()=>f(e?.value)},e?.children))))))}},9686:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=t.ModalContext=t.useModal=t.createModalRef=void 0,n(1355);const i=a(n(3804)),l=n(3804),c=n(1381),u=n(7131),s=n(7835);t.createModalRef=()=>{const[e]=l.useState({});return e},t.useModal=()=>{const e=l.useContext(t.ModalContext);if(!e)throw new Error("For useModal need Modal parrent!");return e},t.ModalContext=i.createContext(null),t.Modal=({children:e,...n})=>{const[r]=l.useState((()=>c.makeSharedState(null))),[o,a]=r.useState(),{direction:d="bottom",fullscreen:f=!1,modalRef:m={}}=n;return l.useEffect((()=>(m.current=r,()=>m.current=null))),i.default.createElement(t.ModalContext.Provider,{value:r},e,i.default.createElement(u.If,{condition:o},i.default.createElement("div",{className:"modal-component","data-fullscreen":f},i.default.createElement(s.Outside,{onOutsideClick:()=>a(null)},i.default.createElement("div",{"data-direction":d,className:"modal-window"},o)))))}},5564:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createModalRef=t.useModal=t.Modal=void 0;var r=n(9686);Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return r.Modal}}),Object.defineProperty(t,"useModal",{enumerable:!0,get:function(){return r.useModal}}),Object.defineProperty(t,"createModalRef",{enumerable:!0,get:function(){return r.createModalRef}})},9587:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Outside=void 0;const i=a(n(3804)),l=(e,t)=>t==e||e!=document.body&&(e=e.parentElement)instanceof HTMLElement&&l(e,t);t.Outside=({children:e,...t})=>{const{onOutsideClick:n=(()=>{})}=t,r=[].concat(e).map(((e,t)=>(e.key||(e={...e,key:`c${t}`}),e.ref||(e={...e,ref:i.createRef()}),e)));return i.useEffect((()=>{const e=e=>{const{target:t}=e;if(t instanceof HTMLElement)for(let{ref:o}of r)if(o.current&&!l(t,o.current))return n(e)};return addEventListener("click",e),()=>removeEventListener("click",e)})),i.default.createElement(i.default.Fragment,null,r)}},7835:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Outside=void 0;var r=n(9587);Object.defineProperty(t,"Outside",{enumerable:!0,get:function(){return r.Outside}})},9764:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Records=void 0,n(786);const o=r(n(3804)),a=n(8365);t.Records=()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(a.Text,null,"Таблица рекордов"))},6171:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Records=void 0;var r=n(9764);Object.defineProperty(t,"Records",{enumerable:!0,get:function(){return r.Records}})},5046:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=t.useSwitch=t.SwitchContext=t.Route=void 0,n(9519);const i=a(n(3804));t.Route=()=>null,t.SwitchContext=i.createContext((e=>{console.log("Switch to "+e)})),t.useSwitch=()=>i.useContext(t.SwitchContext),t.Switch=({children:e,default:n})=>{const r=t.useSwitch(),o=[].concat(e).filter((e=>e?.type==t.Route)),a=o.find((e=>e?.props.route==n))||o.find((e=>e?.props.default))||o[0],[l,c]=i.useState((()=>a?.props.route)),u=o.find((e=>e?.props.route==l));return i.default.createElement(t.SwitchContext.Provider,{value:e=>{if(!o.find((t=>t?.props?.route==e)))return r(e);c(e)}},u.props.children)}},6963:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSwitch=t.Route=t.Switch=void 0;var r=n(5046);Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return r.Switch}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return r.Route}}),Object.defineProperty(t,"useSwitch",{enumerable:!0,get:function(){return r.useSwitch}})},3273:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,n(7863);const i=a(n(3804));t.Text=i.forwardRef((({children:e,...t},n)=>{for(let[e,n]of Object.entries(t))"h"==e[0]&&n&&(t.size=+e[1]),/(left|right|center)/.test(e)&&n&&(t.align=e),/(primary|secondary)/.test(e)&&n&&(t.color=e);const{size:r="1",color:o="primary",align:a="center"}=t;return i.default.createElement("p",{className:"text-component",ref:n,"data-size":r,"data-color":o,"data-align":a},e)}))},8365:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;var r=n(3273);Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return r.Text}})},1707:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(2241);const o=r(n(3804)),a=n(7196),i=n(627),l=n(2565),c=n(6963),u=n(3003);a.render(o.default.createElement(i.Center,null,o.default.createElement(c.Switch,null,o.default.createElement(c.Route,{route:"main"},o.default.createElement(l.Main,null)),o.default.createElement(c.Route,{route:"easy"},o.default.createElement(u.Game,null)),o.default.createElement(c.Route,{route:"medium"},o.default.createElement(u.Game,{difficulty:"medium"})),o.default.createElement(c.Route,{route:"hard"},o.default.createElement(u.Game,{difficulty:"hard"})))),document.getElementById("app"))},5520:function(e,t,n){var r,o,a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.MineSweeper=void 0;const i=n(3804),l=n(1381),c=l.makeSharedState(!1);t.MineSweeper=class{constructor(e=0,t=0,n=0,a=(()=>{})){if(this.newGame=a,r.set(this,l.makeSharedState(!1)),o.set(this,l.makeSharedState(!1)),this.width=0,this.height=0,this.length=0,this.opens=new Map,this.flags=new Map,this.startTime=-1,this.stopTime=-1,this.state=0,this.width=e,this.height=t,this.length=n,this.map=new Int8Array(e*t),n>=this.map.length)throw new Error("Length bomb bigger length map");for(;n>0;){const e=[...this.map].map(((e,t)=>t)).filter((e=>!this.map[e])).sort((()=>Math.random()>.5?1:-1))[0];this.map[e]=-1,n--}for(let e=0;e<this.map.length;e++){let t=this.map[e];if(-1==t)continue;const[n,r]=this.position(e);for(let e=-1;e<=1;e+=1)for(let o=-1;o<=1;o+=1){if(!e&&!o)continue;const a=this.index([n+e,r+o]);if(a<0)continue;const i=this.map[a];i>=0||-1==i&&t++}this.map[e]=t}}get timeString(){return-1==this.startTime?(0).toFixed(2):(((-1==this.stopTime?performance.now():this.stopTime)-this.startTime)/1e3).toFixed(2)}get devMode(){return!1}get started(){return a(this,o,"f").state}set started(e){a(this,o,"f").setState(e)}get flugsCount(){return[...this.flags.values()].filter((e=>e)).length}get opensCount(){return[...this.opens.values()].filter((e=>e)).length}isOpen(e,t){return!!this.opens.get(`${e}:${t}`)||this.state>0}clear(e,t,n=new Map){const r=this.index([e,t]),o=`${e}:${t}`;if(-1==r)return;if(n.get(o))return;n.set(o,!0);const a=e,i=t;if(0==this.map[r])for(let e=-1;e<=1;e+=1)for(let t=-1;t<=1;t+=1)(e||t)&&this.clear(a+e,i+t,n);this.flags.set(`${e}:${t}`,!1),this.opens.set(`${e}:${t}`,!0)}setOpen(e,t){this.started&&(this.clear(e,t),this.checkWin(e,t),this.render())}checkWin(e,t){-1==this.map[this.index([e,t])]&&this.isOpen(e,t)&&(this.started=!1,this.state=1,this.stopTime=performance.now()),this.opensCount+this.length!=this.map.length&&(this.flugsCount==this.length&&[...this.flags.entries()].filter((([e])=>{const[t,n]=e.split(":").map((e=>+e));return-1==this.map[this.index([t,n])]}))).length!=this.length||(this.started=!1,this.state=2,this.stopTime=performance.now())}isFlag(e,t){return!!this.flags.get(`${e}:${t}`)}toggleFlag(e,t){const n=!this.isFlag(e,t);(!n||this.length-this.flugsCount)&&(this.flags.set(`${e}:${t}`,n),this.checkWin(e,t),this.render())}index(e){const[t,n]=e;return t<0||t>=this.width||n<0||n>=this.height?-1:n*this.width+t}position(e){const t=e%this.width;return[t,(e-t)/this.width]}toggleDevMode(){c.setState(!c.state)}use(){return a(this,r,"f").useState(),a(this,o,"f").useState(),c.useState(),this}render(){a(this,r,"f").setState(!a(this,r,"f").state)}rows(){const e=[];for(let t=0;t<this.height;t++)e.push({items:()=>{const e=[];for(let n=0;n<this.width;n++)e.push([n,t,this.map[this.index([n,t])]]);return e}});return e}start(){0==this.state&&(this.startTime=performance.now(),this.started=!0),this.render()}static make(e=0,t=0,n=0){const r=()=>new this(e,t,n,(()=>{a(r)})),[o,a]=i.useState(r);return o}},r=new WeakMap,o=new WeakMap},1381:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeSharedState=void 0;const r=n(3804);t.makeSharedState=function(e){const t=[],n=n=>{n instanceof Function&&(n=n(e)),e=n;for(let n of t)n(e);return e};return{get state(){return e},setState:n,useState:()=>{const o=r.useState(e)[1];return r.useEffect((()=>(t.push(o),()=>{const e=t.indexOf(o);-1!=e&&t.splice(e,1)}))),[e,n]}}}},4266:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useEvent=void 0;const r=n(3804);t.useEvent=function(...e){const[t,n,o=window]=e.reverse();r.useEffect((()=>{const e=o?.current||o;if(e.addEventListener instanceof Function)return e.addEventListener(n,t),()=>e.removeEventListener(n,t)}))}},3804:e=>{e.exports=React},7196:e=>{e.exports=ReactDOM}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/dist/",n.b=document.baseURI||self.location.href,n(1707)})();